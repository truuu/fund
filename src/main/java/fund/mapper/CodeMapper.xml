<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
             "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="fund.mapper.CodeMapper">

<select id="selectById" parameterType="int" resultType="fund.dto.Code">
    SELECT *
    FROM [Code]
    WHERE ID = #{ID}
</select>

<select id="selectByCodeName" resultType="fund.dto.Code">
    SELECT *
    FROM code
    WHERE codeName=#{codeName}
</select>

<select id="selectCodeGroupById" resultType="fund.dto.CodeGroup">
    SELECT *
    FROM [CodeGroup]
    WHERE ID = #{ID}
</select>

<select id="selectByCodeGroupId"  resultType="fund.dto.Code"> 
    SELECT *
    FROM [Code] 
    WHERE codeGroupID = #{codeGroupID}            
</select>

<select id="selectByCodeGroupName" resultType="fund.dto.Code">
    SELECT c1.*
    FROM [Code] c1 left JOIN [CodeGroup] c2 ON c1.codeGroupID = c2.ID
    WHERE c2.name = #{name}
</select>

<insert id="insert" useGeneratedKeys="true" keyProperty="id">
    INSERT [Code] (codeGroupID, codeName, etc1, etc2, etc3)
    VALUES (#{codeGroupID}, #{codeName}, #{etc1}, #{etc2}, #{etc3})
</insert>

<update id="update">
    UPDATE [Code]
    SET codeName = #{codeName}, 
    etc1 = #{etc1}
    WHERE ID = #{id}
</update>

<delete id="delete">
    DELETE FROM [Code] WHERE ID = #{id}
</delete>


	<select id="selectAllPaymentMethod" resultType="fund.dto.Code">
		select c2.*
		from
		CodeGroup c1 left join Code c2 on c1.ID=c2.codeGroupID
		where
		c1.name=#{name1} or c1.name=#{name2}
	</select>


	<select id="selectCodeGroup" resultType="fund.dto.CodeGroup">
		SELECT *
		FROM [CodeGroup]
	</select>

   

</mapper>
