<?xml version="1.0" encoding="UTF-8" ?>		
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">		
		
<mapper namespace="fund.mapper.TodoMapper">

<select id="selectList" resultType="fund.dto.Todo">        
  SELECT *, u.name userName 
  FROM [Todo] t LEFT JOIN [User] u ON t.userId = u.id
  ORDER BY dueDate      
</select>

<insert id="insert" useGeneratedKeys="true" keyProperty="id">
  INSERT [Todo] (userId, createDate, dueDate, message)
  VALUES (#{userId}, GETDATE(), #{dueDate}, #{message})  
</insert>

<delete id="delete">
  DELETE FROM [Todo] WHERE id = #{id}
</delete>
		
</mapper>		
